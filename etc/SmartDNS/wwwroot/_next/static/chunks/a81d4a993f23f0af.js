(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3974,e=>{"use strict";var r=e.i(75871);e.s(["Alert",()=>r.default])},11458,83124,e=>{"use strict";var r=e.i(28642);e.s(["MenuItem",()=>r.default],11458);var t=e.i(26678);e.s(["Select",()=>t.default],83124)},26762,99011,68238,e=>{"use strict";e.i(47167);var r=e.i(71645),t=e.i(7670),a=e.i(19130),s=e.i(40799),n=e.i(94425),l=e.i(40672),i=e.i(19727);function o(e){return(0,i.default)("MuiCardActions",e)}(0,l.default)("MuiCardActions",["root","spacing"]);var d=e.i(43476);let u=(0,s.styled)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,!t.disableSpacing&&r.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),c=r.forwardRef(function(e,r){let s=(0,n.useDefaultProps)({props:e,name:"MuiCardActions"}),{disableSpacing:l=!1,className:i,...c}=s,f={...s,disableSpacing:l},p=(e=>{let{classes:r,disableSpacing:t}=e;return(0,a.default)({root:["root",!t&&"spacing"]},o,r)})(f);return(0,d.jsx)(u,{className:(0,t.default)(p.root,i),ownerState:f,ref:r,...c})});function f(e){return(0,i.default)("MuiCardContent",e)}e.s(["default",0,c],26762),(0,l.default)("MuiCardContent",["root"]);let p=(0,s.styled)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),m=r.forwardRef(function(e,r){let s=(0,n.useDefaultProps)({props:e,name:"MuiCardContent"}),{className:l,component:i="div",...o}=s,u={...s,component:i},c=(e=>{let{classes:r}=e;return(0,a.default)({root:["root"]},f,r)})(u);return(0,d.jsx)(p,{as:i,className:(0,t.default)(c.root,l),ownerState:u,ref:r,...o})});e.s(["default",0,m],99011),e.s(["CardContent",0,m],68238)},59772,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(614),s=e.i(80926),n=e.i(36807),l=e.i(4896),i=e.i(26762),o=e.i(99011),d=e.i(36773),u=e.i(28637),c=e.i(39147),f=e.i(38204),p=e.i(3974),m=e.i(62534),m=m,x=e.i(98759),h=e.i(9578),v=e.i(53145),w=e.i(81307),g=e.i(94814);e.i(21845);var j=e.i(22831),C=e.i(56890),b=e.i(67959);let P=w.z.object({oldPassword:w.z.string().min(1,{message:"Old password is required."}),password:w.z.string().min(1,{message:"New password is required."}),confirmPassword:w.z.string().min(1,{message:"Confirm password is required."})}),y=[{name:"oldPassword",label:"Old password",type:"password"},{name:"password",label:"New password",type:"password"},{name:"confirmPassword",label:"Confirm password",type:"password"}];var S=e.i(80224),T=e.i(13607),M=e.i(68238);e.i(47167);let R=t.createContext(null);function A(e){let{children:a,value:s}=e,n=function(){let[e,r]=t.useState(null);return t.useEffect(()=>{r(`mui-p-${Math.round(1e5*Math.random())}`)},[]),e}(),l=t.useMemo(()=>({idPrefix:n,value:s}),[n,s]);return(0,r.jsx)(R.Provider,{value:l,children:a})}function N(){return t.useContext(R)}function $(e,r){let{idPrefix:t}=e;return null===t?null:`${e.idPrefix}-P-${r}`}function E(e,r){let{idPrefix:t}=e;return null===t?null:`${e.idPrefix}-T-${r}`}var z=e.i(91052);let B=t.forwardRef(function(e,a){let{children:s,...n}=e,l=N();if(null===l)throw TypeError("No TabContext provided");let i=t.Children.map(s,e=>t.isValidElement(e)?t.cloneElement(e,{"aria-controls":$(l,e.props.value),id:E(l,e.props.value)}):null);return(0,r.jsx)(z.default,{...n,ref:a,value:l.value,children:i})});var U=e.i(7670),O=e.i(40799),k=e.i(50074),q=e.i(19130),D=e.i(19727);function L(e){return(0,D.default)("MuiTabPanel",e)}(0,e.i(40672).default)("MuiTabPanel",["root","hidden"]);let I=(0,O.styled)("div",{name:"MuiTabPanel",slot:"Root"})(({theme:e})=>({padding:e.spacing(3)})),K=t.forwardRef(function(e,t){let a=(0,k.useThemeProps)({props:e,name:"MuiTabPanel"}),{children:s,className:n,value:l,keepMounted:i=!1,...o}=a,d={...a},u=(e=>{let{classes:r,hidden:t}=e;return(0,q.default)({root:["root",t&&"hidden"]},L,r)})(d),c=N();if(null===c)throw TypeError("No TabContext provided");let f=$(c,l),p=E(c,l);return(0,r.jsx)(I,{"aria-labelledby":p,className:(0,U.default)(u.root,n),hidden:l!==c.value,id:f,ref:t,role:"tabpanel",ownerState:d,...o,children:(i||l===c.value)&&s})});var W=e.i(76552),F=e.i(23897),F=F,V=e.i(66796);let G=[{label:"Password",pannel:(0,r.jsx)(function(){let{checkSessionError:e}=(0,h.useUser)(),[s,w]=t.useState(""),[S,T]=t.useState(),{t:M}=(0,j.useTranslation)(),{control:R,handleSubmit:A,setError:N,formState:{errors:$}}=(0,v.useForm)({resolver:(0,g.zodResolver)(P)}),E=t.useCallback(async r=>{if(r.oldPassword===r.password)return void N("root",{message:M("New password must be different from old password.")});if(r.password!==r.confirmPassword)return void N("root",{message:M("Password mismatch.")});let{error:t}=await x.smartdnsServer.UpdatePassword(r.oldPassword,r.password);if(t){N("root",{message:M(x.smartdnsServer.getErrorMessage(t))}),await e?.(t);return}w(M("Password updated successfully."))},[M,e,N]);return(0,r.jsx)("form",{onSubmit:A(E),children:(0,r.jsxs)(l.default,{children:[(0,r.jsx)(o.default,{children:(0,r.jsx)(a.default,{spacing:3,sx:{maxWidth:"sm"},children:y.map(e=>(0,r.jsx)(v.Controller,{control:R,name:e.name,render:({field:t})=>(0,r.jsxs)(u.default,{fullWidth:!0,children:[(0,r.jsx)(c.default,{children:M(e.label)}),(0,r.jsx)(f.default,{...t,endAdornment:S?(0,r.jsx)(b.default,{cursor:"pointer",onClick:()=>{T(!1)}}):(0,r.jsx)(C.default,{cursor:"pointer",onClick:()=>{T(!0)}}),value:t.value||"",label:e.label,type:S?"text":"password"}),$[e.name]?.message?(0,r.jsx)(m.default,{children:M($[e.name]?.message??"")}):null]})},e.name))})}),$.root?(0,r.jsx)(p.Alert,{severity:"error",children:$.root.message}):null,s?(0,r.jsx)(p.Alert,{severity:"success",children:s}):null,(0,r.jsx)(d.default,{}),(0,r.jsx)(i.default,{sx:{justifyContent:"flex-end"},children:(0,r.jsx)(n.default,{variant:"contained",type:"submit",children:M("Update")})})]})})},{})},{label:"Language",pannel:(0,r.jsx)(function(){return(0,r.jsx)(T.Card,{children:(0,r.jsx)(M.CardContent,{children:(0,r.jsx)(S.LanguageSwitch,{})})})},{})}];function H(){let{t:e}=(0,j.useTranslation)(),[s,n]=t.useState("0");return(0,r.jsx)(a.default,{spacing:1,children:(0,r.jsx)(T.Card,{children:(0,r.jsx)(V.Typography,{variant:"h4",sx:{marginTop:-2},children:(0,r.jsx)(A,{value:s,children:(0,r.jsxs)(M.CardContent,{children:[(0,r.jsx)(W.Box,{sx:{borderBottom:1,borderColor:"divider"},children:(0,r.jsx)(B,{onChange:(e,r)=>{n(r)},children:G.map((t,a)=>(0,r.jsx)(F.default,{label:e(t.label),value:a.toString()},t.label))})}),G.map((e,t)=>(0,r.jsx)(K,{value:t.toString(),children:e.pannel},e.label))]})})})})})}function J(){let{t:e}=(0,j.useTranslation)();return t.useEffect(()=>{document.title=`${e("Settings")} | ${e("Dashboard")} | ${s.config.site.name}`},[e]),(0,r.jsx)(a.default,{spacing:3,children:(0,r.jsx)(H,{})})}e.s(["default",()=>J],59772)}]);